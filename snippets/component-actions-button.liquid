{% comment %}
  Button Component
  Triggers actions or events, such as submitting forms, opening dialogs, or navigating to other pages.
  
  @param {string} text - Button text (required)
  @param {string} variant - Button style variant: primary, secondary, outline, ghost (default: primary)
  @param {string} size - Button size: small, medium, large (default: medium)
  @param {string} type - Button type: button, submit, reset (default: button)
  @param {string} url - Optional URL for link-style button
  @param {boolean} full_width - Make button full width (default: false)
  @param {boolean} disabled - Disable button (default: false)
  @param {string} icon - Optional icon name (Lucide icon)
  @param {string} icon_position - Icon position: left, right (default: left)
  @param {string} class - Additional CSS classes
  @param {string} attributes - Additional HTML attributes
  
  @example
  {% render 'component-actions-button', text: 'Click me', variant: 'primary', size: 'medium' %}
  {% render 'component-actions-button', text: 'Submit', variant: 'primary', type: 'submit', full_width: true %}
{% endcomment %}

{% liquid
  assign text = text | default: ''
  assign variant = variant | default: 'primary'
  assign size = size | default: 'medium'
  assign type = type | default: 'button'
  assign url = url | default: ''
  assign full_width = full_width | default: false
  assign disabled = disabled | default: false
  assign icon = icon | default: ''
  assign icon_position = icon_position | default: 'left'
  assign class = class | default: ''
  assign attributes = attributes | default: ''
  
  unless text != blank
    echo '<!-- Error: text parameter required for button component -->'
    break
  endunless
%}

{% if url != blank %}
  <a 
    href="{{ url }}"
    class="ds-button ds-button--{{ variant }} ds-button--{{ size }} {% if full_width %}ds-button--full-width{% endif %} {% if disabled %}ds-button--disabled{% endif %} {{ class }}"
    {% if disabled %}aria-disabled="true" tabindex="-1"{% endif %}
    {{ attributes }}
  >
    {% if icon != blank and icon_position == 'left' %}
      <i data-lucide="{{ icon }}" class="ds-button__icon ds-button__icon--left"></i>
    {% endif %}
    <span class="ds-button__text">{{ text }}</span>
    {% if icon != blank and icon_position == 'right' %}
      <i data-lucide="{{ icon }}" class="ds-button__icon ds-button__icon--right"></i>
    {% endif %}
  </a>
{% else %}
  <button 
    type="{{ type }}"
    class="ds-button ds-button--{{ variant }} ds-button--{{ size }} {% if full_width %}ds-button--full-width{% endif %} {% if disabled %}ds-button--disabled{% endif %} {{ class }}"
    {% if disabled %}disabled{% endif %}
    {{ attributes }}
  >
    {% if icon != blank and icon_position == 'left' %}
      <i data-lucide="{{ icon }}" class="ds-button__icon ds-button__icon--left"></i>
    {% endif %}
    <span class="ds-button__text">{{ text }}</span>
    {% if icon != blank and icon_position == 'right' %}
      <i data-lucide="{{ icon }}" class="ds-button__icon ds-button__icon--right"></i>
    {% endif %}
  </button>
{% endif %}

{% stylesheet %}
  .ds-button--small {
    padding: calc(var(--button-padding-vertical) * 0.75) calc(var(--button-padding-horizontal) * 0.75);
    font-size: var(--font-size-sm);
  }
  
  .ds-button--medium {
    padding: var(--button-padding);
    font-size: var(--font-size-base);
  }
  
  .ds-button--large {
    padding: calc(var(--button-padding-vertical) * 1.25) calc(var(--button-padding-horizontal) * 1.25);
    font-size: var(--font-size-lg);
  }
  
  .ds-button--full-width {
    width: 100%;
  }
  
  .ds-button--disabled,
  .ds-button[disabled] {
    opacity: 0.6;
    cursor: not-allowed;
    pointer-events: none;
  }
  
  .ds-button__icon {
    width: 1em;
    height: 1em;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }
  
  .ds-button__icon--left {
    margin-right: var(--spacing-sm);
  }
  
  .ds-button__icon--right {
    margin-left: var(--spacing-sm);
  }
  
  .ds-button__text {
    display: inline-flex;
    align-items: center;
  }
{% endstylesheet %}

