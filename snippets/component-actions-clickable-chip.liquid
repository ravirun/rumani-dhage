{% comment %}
  ClickableChip Component
  Interactive button used to categorize or highlight content attributes.
  
  @param {string} text - Chip text (required)
  @param {string} url - Link URL (optional)
  @param {string} variant - Chip style: default, primary, secondary, outline (default: default)
  @param {string} size - Chip size: sm, md, lg (default: md)
  @param {boolean} selected - Selected state (default: false)
  @param {string} icon - Icon name (Lucide icon) (optional)
  @param {string} class - Additional CSS classes
  @param {string} attributes - Additional HTML attributes
  
  @example
  {% render 'component-actions-clickable-chip', text: 'Category', url: '/category', variant: 'primary' %}
{% endcomment %}

{% liquid
  assign text = text | default: ''
  assign url = url | default: ''
  assign variant = variant | default: 'default'
  assign size = size | default: 'md'
  assign selected = selected | default: false
  assign icon = icon | default: ''
  assign class = class | default: ''
  assign attributes = attributes | default: ''
  
  unless text != blank
    echo '<!-- Error: text parameter required for clickable-chip component -->'
    break
  endunless
%}

{% if url != blank %}
  <a 
    href="{{ url }}"
    class="ds-clickable-chip ds-clickable-chip--{{ variant }} ds-clickable-chip--{{ size }} {% if selected %}ds-clickable-chip--selected{% endif %} {{ class }}"
    {{ attributes }}
  >
    {% if icon != blank %}
      <i data-lucide="{{ icon }}" class="ds-clickable-chip__icon"></i>
    {% endif %}
    <span class="ds-clickable-chip__text">{{ text }}</span>
  </a>
{% else %}
  <button 
    type="button"
    class="ds-clickable-chip ds-clickable-chip--{{ variant }} ds-clickable-chip--{{ size }} {% if selected %}ds-clickable-chip--selected{% endif %} {{ class }}"
    {{ attributes }}
  >
    {% if icon != blank %}
      <i data-lucide="{{ icon }}" class="ds-clickable-chip__icon"></i>
    {% endif %}
    <span class="ds-clickable-chip__text">{{ text }}</span>
  </button>
{% endif %}

{% stylesheet %}
  .ds-clickable-chip {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs) var(--spacing-sm);
    font-size: var(--font-size-sm);
    font-weight: var(--font-primary--weight);
    line-height: 1;
    white-space: nowrap;
    border-radius: 9999px;
    border: 1px solid transparent;
    background-color: var(--color-secondary);
    color: var(--color-secondary-text);
    text-decoration: none;
    cursor: pointer;
    transition: var(--transition);
    font-family: var(--font-primary--family);
  }
  
  .ds-clickable-chip--sm {
    padding: calc(var(--spacing-xs) * 0.5) var(--spacing-xs);
    font-size: var(--font-size-xs);
  }
  
  .ds-clickable-chip--md {
    padding: var(--spacing-xs) var(--spacing-sm);
    font-size: var(--font-size-sm);
  }
  
  .ds-clickable-chip--lg {
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: var(--font-size-base);
  }
  
  .ds-clickable-chip--default {
    background-color: var(--color-secondary);
    color: var(--color-secondary-text);
  }
  
  .ds-clickable-chip--primary {
    background-color: var(--color-primary);
    color: var(--color-primary-text);
  }
  
  .ds-clickable-chip--secondary {
    background-color: var(--color-secondary);
    color: var(--color-secondary-text);
  }
  
  .ds-clickable-chip--outline {
    background-color: transparent;
    color: var(--color-primary);
    border-color: var(--color-primary);
  }
  
  .ds-clickable-chip:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
  }
  
  .ds-clickable-chip--selected {
    background-color: var(--color-primary);
    color: var(--color-primary-text);
    border-color: var(--color-primary);
  }
  
  .ds-clickable-chip__icon {
    width: 0.875em;
    height: 0.875em;
    flex-shrink: 0;
  }
  
  .ds-clickable-chip__text {
    display: inline-block;
  }
{% endstylesheet %}

{% javascript %}
  (function() {
    if (typeof lucide !== 'undefined') {
      lucide.createIcons();
    }
  })();
{% endjavascript %}

