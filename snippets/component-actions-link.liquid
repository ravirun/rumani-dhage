{% comment %}
  Link Component
  Makes text interactive, allowing users to navigate to other pages or perform specific actions.
  
  @param {string} text - Link text (required)
  @param {string} url - Link URL (required)
  @param {string} variant - Link style: default, primary, secondary, underline (default: default)
  @param {string} target - Link target: _self, _blank (default: _self)
  @param {boolean} external - Mark as external link (default: false)
  @param {string} class - Additional CSS classes
  @param {string} attributes - Additional HTML attributes
  
  @example
  {% render 'component-actions-link', text: 'Learn more', url: '/about', variant: 'primary' %}
{% endcomment %}

{% liquid
  assign text = text | default: ''
  assign url = url | default: ''
  assign variant = variant | default: 'default'
  assign target = target | default: '_self'
  assign external = external | default: false
  assign class = class | default: ''
  assign attributes = attributes | default: ''
  
  unless text != blank and url != blank
    echo '<!-- Error: text and url parameters required for link component -->'
    break
  endunless
  
  if external
    assign target = '_blank'
    assign rel = 'noopener noreferrer'
  endif
%}

<a 
  href="{{ url }}"
  class="ds-link ds-link--{{ variant }} {{ class }}"
  target="{{ target }}"
  {% if external %}rel="{{ rel }}"{% endif %}
  {{ attributes }}
>
  {{ text }}
  {% if external %}
    <span class="ds-link__external-icon" aria-label="Opens in new window">
      <i data-lucide="external-link" class="ds-link__icon"></i>
    </span>
  {% endif %}
</a>

{% stylesheet %}
  .ds-link {
    color: var(--color-primary);
    text-decoration: none;
    transition: var(--transition);
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
  }
  
  .ds-link:hover,
  .ds-link:focus {
    text-decoration: underline;
    outline: none;
  }
  
  .ds-link--default {
    color: var(--color-foreground);
  }
  
  .ds-link--primary {
    color: var(--color-primary);
  }
  
  .ds-link--secondary {
    color: var(--color-secondary-text);
  }
  
  .ds-link--underline {
    text-decoration: underline;
  }
  
  .ds-link--underline:hover {
    text-decoration: none;
  }
  
  .ds-link__icon {
    width: 0.875em;
    height: 0.875em;
    opacity: 0.7;
  }
  
  .ds-link__external-icon {
    display: inline-flex;
    align-items: center;
  }
{% endstylesheet %}

