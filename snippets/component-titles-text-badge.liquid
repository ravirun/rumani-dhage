{% comment %}
  Badge Component
  Inform users about the status of an object or indicate that an action has been completed.
  
  @param {string} text - Badge text (required)
  @param {string} variant - Badge style: default, primary, secondary, success, warning, error (default: default)
  @param {string} size - Badge size: sm, md, lg (default: md)
  @param {boolean} pill - Make badge pill-shaped (default: false)
  @param {string} icon - Icon name (Lucide icon) (optional)
  @param {string} class - Additional CSS classes
  @param {string} attributes - Additional HTML attributes
  
  @example
  {% render 'component-titles-text-badge', text: 'New', variant: 'success', size: 'sm' %}
{% endcomment %}

{% liquid
  assign text = text | default: ''
  assign variant = variant | default: 'default'
  assign size = size | default: 'md'
  assign pill = pill | default: false
  assign icon = icon | default: ''
  assign class = class | default: ''
  assign attributes = attributes | default: ''
  
  unless text != blank
    echo '<!-- Error: text parameter required for badge component -->'
    break
  endunless
%}

<span 
  class="ds-badge ds-badge--{{ variant }} ds-badge--{{ size }} {% if pill %}ds-badge--pill{% endif %} {{ class }}"
  {{ attributes }}
>
  {% if icon != blank %}
    <i data-lucide="{{ icon }}" class="ds-badge__icon"></i>
  {% endif %}
  <span class="ds-badge__text">{{ text }}</span>
</span>

{% stylesheet %}
  .ds-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs) var(--spacing-sm);
    font-size: var(--font-size-sm);
    font-weight: calc(var(--font-primary--weight) + 200);
    line-height: 1;
    white-space: nowrap;
    vertical-align: middle;
  }
  
  .ds-badge--sm {
    padding: calc(var(--spacing-xs) * 0.5) var(--spacing-xs);
    font-size: var(--font-size-xs);
  }
  
  .ds-badge--md {
    padding: var(--spacing-xs) var(--spacing-sm);
    font-size: var(--font-size-sm);
  }
  
  .ds-badge--lg {
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: var(--font-size-base);
  }
  
  .ds-badge--default {
    background-color: var(--color-secondary);
    color: var(--color-secondary-text);
  }
  
  .ds-badge--primary {
    background-color: var(--color-primary);
    color: var(--color-primary-text);
  }
  
  .ds-badge--secondary {
    background-color: var(--color-secondary);
    color: var(--color-secondary-text);
  }
  
  .ds-badge--success {
    background-color: var(--color-success);
    color: white;
  }
  
  .ds-badge--warning {
    background-color: var(--color-warning);
    color: white;
  }
  
  .ds-badge--error {
    background-color: var(--color-error);
    color: white;
  }
  
  .ds-badge--pill {
    border-radius: 9999px;
  }
  
  .ds-badge:not(.ds-badge--pill) {
    border-radius: var(--input-border-radius);
  }
  
  .ds-badge__icon {
    width: 0.875em;
    height: 0.875em;
    flex-shrink: 0;
  }
  
  .ds-badge__text {
    display: inline-block;
  }
{% endstylesheet %}

{% javascript %}
  (function() {
    if (typeof lucide !== 'undefined') {
      lucide.createIcons();
    }
  })();
{% endjavascript %}

